setwd("C:/Users/elim/Desktop/Big Data University/Data Science/3 -Getting and Cleaning Data/3 - Week Three/Quiz & Project/data/UCI HAR Dataset")
library(dplyr)
# read text files feature.txt & activity_labels.txt from UCI HAR Dataset folder into R
fileName_feature  <- "features.txt"
ColumnName <- read.table(fileName_feature, header = FALSE,
stringsAsFactors = FALSE,col.names = c("Col_Index","Col_Name"))
fileName_ActName  <- "activity_labels.txt"
ActName <- read.table(fileName_ActName, header = FALSE,stringsAsFactors = FALSE,
# nrow=6,
col.names = c("Activity_Code","Activity_Name"))
# read text files from UCI HAR Dataset/test folder into R
Dir_test  <- "test"
Path_test <- file.path(".",Dir_test)
# read x file into R and rename the column names according to the feature list
xfileName_test  <- "x_test.txt"
xFile_test <- file.path(Path_test, xfileName_test)
xTest <- read.table(xFile_test, stringsAsFactors = FALSE,
#  nrow=6,
col.names = ColumnName[,2] )
# remove all the columns except mean and std
xTestII <- select(xTest, matches("mean|std"))
sfileName_test  <- "subject_test.txt"
sFile_test <- file.path(Path_test, sfileName_test)
sTest <- read.table(sFile_test, stringsAsFactors = FALSE,
# nrow=6,
col.names = "Subject_Code")
yfileName_test  <- "y_test.txt"
yFile_test <- file.path(Path_test, yfileName_test)
yTest <- read.table(yFile_test, stringsAsFactors = FALSE,
# nrow=6,
col.names = "Activity_Code")
# merge subject & y files
dat_test1 <- cbind(sTest,xTestII)
dat_test2 <- cbind(yTest,dat_test1)
dat_test3 <- merge(ActName, dat_test2, all.dat_test = TRUE)
# read text files from UCI HAR Dataset/train folder into R
Dir_train  <- "train"
Path_train <- file.path(".",Dir_train)
# read x file into R and rename the column names according to the feature list
xfileName_train  <- "x_train.txt"
xFile_train <- file.path(Path_train, xfileName_train)
xtrain <- read.table(xFile_train, stringsAsFactors = FALSE,
#  nrow=6,
col.names = ColumnName[,2] )
# remove all the columns except mean and std
xtrainII <- select(xtrain, matches("mean|std"))
sfileName_train  <- "subject_train.txt"
sFile_train <- file.path(Path_train, sfileName_train)
strain <- read.table(sFile_train, stringsAsFactors = FALSE,
# nrow=6,
col.names = "Subject_Code")
yfileName_train  <- "y_train.txt"
yFile_train <- file.path(Path_train, yfileName_train)
ytrain <- read.table(yFile_train, stringsAsFactors = FALSE,
#  nrow=6,
col.names = "Activity_Code")
# merge subject & y files
dat_train1 <- cbind(strain,xtrainII)
dat_train2 <- cbind(ytrain,dat_train1)
dat_train3 <- merge(ActName, dat_train2, all.dat_train = TRUE)
# merge dataset from Test & Train
data <- rbind(dat_train3, dat_test3)
dat1 <- head(data)
library(reshape2)
dat1
miris <- melt(iris, id.vars=c("Activity_Code","Activity_Name","Subject_Code"))
miris <- melt(dat1, id.vars=c("Activity_Code","Activity_Name","Subject_Code"))
?melt
?ddply
x <- ddply(miris, .(Activity_Name,Subject_Code, variable), summarize, mean=mean(value))
miris
x <- ddply(miris, .(Activity_Name, variable), summarize, mean=mean(value))
library(dplyr)
x <- ddply(miris, .(Activity_Name,Subject_Code, variable), summarize, mean=mean(value))
library(plyr)
x <- ddply(miris, .(Activity_Name,Subject_Code, variable), summarize, mean=mean(value))
dcast(x, Activity_Name~variable, value.var="mean")
?dcast
dcast(x, Activity_Name + Subject_Code~variable, value.var="mean")
?gsub
q()
